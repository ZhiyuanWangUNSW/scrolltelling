/* Base */
*{ box-sizing:border-box; }
body{
  background:#fff;
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color:#111;
}

/* Two-column layout */
.layout{
  display:flex;
  justify-content:center;
  gap: 24px;
  padding: 24px 18px;
  max-width: 1400px;
  margin: 0 auto;
}

/* STAGE = the book area (make it wide) */
.stage{
  flex: 0 0 auto;
  width: min(92vw, 1200px);     /* <-- big spread */
  max-width: 1200px;
  perspective: 1400px;          /* for flip depth */
}

/* If window is short, reduce width so spread fits vertically */
@media (max-height: 820px){
  .stage{
    width: min(92vw, calc((100vh - 48px) * (4/3) * 2)); /* two pages of 3/4 */
  }
}

.scrolly{
  flex: 1 1 auto;
  width: min(520px, 36vw);
}

.spacer{ height: 55vh; }

/* Scroll steps (invisible drivers) */
.steps{ display:flex; flex-direction:column; gap: 24px; }
.step{
  height: 75vh;
  border-radius: 12px;
  border: 1px dashed #eee; /* remove later */
  background: transparent;
  opacity: 0;
}

/* ---------- BOOK SPREAD ---------- */
.book{
  position: sticky;
  top: 24px;

  width: 100%;
  display: flex;
  gap: 18px;                   /* gutter */
  align-items: stretch;
}

/* Each page in the spread */
.book-page{
  flex: 1 1 0;
  aspect-ratio: 3 / 4;
  background:#fff;
  border:1px solid #e6e6e6;
  box-shadow:0 8px 24px rgba(0,0,0,0.08);
  border-radius:12px;
  overflow:hidden;

  transform-style: preserve-3d;
  backface-visibility: hidden;
  transition: transform 420ms ease, opacity 420ms ease;
}

/* allow inner scroll on short screens like a PDF viewer */
@media (max-height: 820px){
  .book-page{
    max-height: calc(100vh - 48px);
    overflow: auto;
  }
}

/* Flip helpers */
.book-page.flip-out-forward{
  transform: rotateY(-90deg);
  opacity: 0.25;
}
.book-page.flip-out-back{
  transform: rotateY(90deg);
  opacity: 0.25;
}

@media (prefers-reduced-motion: reduce){
  .book-page{ transition: none; }
  .book-page.flip-out-forward,
  .book-page.flip-out-back{
    transform: none;
    opacity: 1;
  }
}

/* ---------- YOUR EXISTING PAGE STYLES ---------- */
.page{
  position:relative;
  width:100%;
  aspect-ratio: 3 / 4;
  overflow:hidden;
}

/* Cover page */
.cover{
  position:relative;
  height: 100%;
  background:#f7f7f7;
}

.cover-bg,
.page-bg{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover;
  display:block;
}

.cover-content,
.page-content{
  position:relative;
  height:100%;
  padding:54px 56px;
}

/* Buttons */
.tts-topright,
.page-tts{
  position:absolute;
  top:18px; right:18px;
  display:flex;
  gap:10px;
  z-index:5;
}

.tts-btn{
  border:1px solid #ddd;
  background:rgba(255,255,255,0.92);
  padding:10px 12px;
  border-radius:12px;
  cursor:pointer;
  font-size:16px;
  backdrop-filter: blur(6px);
}
.tts-btn:hover{ background:rgba(255,255,255,1); }

/* Logo */
.logo{
  position:absolute;
  left:16px; bottom:16px;
  width:160px;
  height:auto;
  z-index:5;
}

/* Cover text */
.cover-text{
  position:absolute;
  top:200px;
  right:12%;
  color:#F2F2F2;
  max-width:720px;
}
.cover-text .title{
  font-size:46px;
  font-weight:600;
  margin:0 0 32px 0;
}
.cover-text .sub{
  font-size:23px;
  line-height:1.35;
  text-align:right;
  margin-top:88px;
}

/* End page: left-aligned subtitle */
.cover-text--left .sub{
  text-align: left;
  margin-top: 40px;   /* optional: tighter spacing */
}

/* Titles + lists */
.page2-title{
  font-size:40px;
  font-weight:600;
  margin:-20px 0 20px -20px;
  color:#F2F2F2;
}
.page2-list{
  margin:220px 0 0 40px;
  font-size:30px;
  line-height:1.35;
  color:#000;
  max-width:620px;
}
.page2-list li{ margin:14px 0; }

.page3-title{
  font-size:33px;
  font-weight:600;
  margin:-20px 0 20px -20px;
  color:#F2F2F2;
}
.page3-list{
  margin:180px 0 0 20px;
  font-size:30px;
  line-height:1.35;
  color:#000;
  max-width:620px;
}
.page3-list li{ margin:14px 0; }

.page4-title{
  font-size:33px;
  font-weight:600;
  margin:-20px 0 20px -20px;
  color:#F2F2F2;
}
.page4-list{
  margin:220px 0 0 40px;
  font-size:30px;
  line-height:1.35;
  color:#000;
  max-width:620px;
}
.page4-list li{ margin:14px 0; }

/* Maps & photos */
.map-slide{
  display:block;
  width:500px;
  max-width:100%;
  height:auto;
  margin: 220px auto 0;
}

.door-caption{
  margin: 18px auto 0;
  width: 72%;
  max-width: 680px;
  font-size: 22px;
  line-height: 1.35;
  color: #000;
  text-align: center;
}

/* Tooltip */
.tooltip{
  position:relative;
  cursor:help;
  border-bottom:2px dotted #666;
}
.tooltip-box{
  position:absolute;
  bottom:120%;
  left:50%;
  transform:translateX(-50%);
  width:240px;
  background:#222;
  color:#fff;
  padding:10px 12px;
  border-radius:8px;
  font-size:16px;
  line-height:1.35;
  text-align:left;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.18s ease;
  z-index:10;
}
.tooltip:hover .tooltip-box{ opacity:1; }

/* Image tooltip variant */
.tooltip-image .tooltip-box{
  width: 220px;
  padding: 8px;
  text-align: center;
}

.tooltip-img{
  width: 100%;
  height: auto;
  border-radius: 6px;
  display: block;
}

.tooltip-caption{
  display:block;
  font-size:14px;
  margin-top:6px;
  color:#ddd;
}

/* Mobile: stack */
@media (max-width: 900px){
  .layout{ flex-direction:column; }
  .stage{ width: min(96vw, 1200px); }
  .scrolly{ width: 100%; }
  .book{ top: 12px; }
  .step{ height: 65vh; }
}

/* Short window spacing tweaks */
@media (max-height: 820px){
  .page-content{ padding: 36px 36px; }

  .page2-list{ margin: 140px 0 0 26px; font-size: 26px; }
  .page3-list{ margin: 120px 0 0 18px; font-size: 26px; }
  .page4-list{ margin: 140px 0 0 26px; font-size: 26px; }

  .map-slide{
    margin: 110px auto 0;
    width: min(560px, 92%);
    max-height: 52vh;
    object-fit: contain;
  }
}